"use strict";var J=Object.create;var x=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var Y=(o,e)=>{for(var t in e)x(o,t,{get:e[t],enumerable:!0})},O=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Z(e))!V.call(o,i)&&i!==t&&x(o,i,{get:()=>e[i],enumerable:!(n=G(e,i))||n.enumerable});return o};var E=(o,e,t)=>(t=o!=null?J(K(o)):{},O(e||!o||!o.__esModule?x(t,"default",{value:o,enumerable:!0}):t,o)),q=o=>O(x({},"__esModule",{value:!0}),o);var _={};Y(_,{activate:()=>Q,deactivate:()=>X});module.exports=q(_);var b=E(require("vscode"));var T={name:"landle",publisher:"mutekey",displayName:"landle",description:"landle",version:"0.9.205",repository:{type:"git",url:"https://github.com/mute-key/landle"},content:{baseContentUrl:"https://github.com/mute-key/landle/blob/master/",baseImagesUrl:"https://github.com/mute-key/landle/raw/master/"},engines:{vscode:"^1.96.0"},categories:["Other"],activationEvents:["onStartupFinished"],main:"./dist/extension.js",extensionKind:["ui","workspace"],contributes:{commands:[{command:"landle.removeTrailingWhitespaceFromSelection",title:"Remove Trailing Whitespace From Selection"},{command:"landle.removeMulitpleEmptyLinesFromSelection",title:"Remove Mulitple Empty Lines From Selection"},{command:"landle.removeEmptyLinesFromSelection",title:"Remove Empty Lines From Selection"},{command:"landle.removeMultipleWhitespaceFromSelection",title:"Remove Multiple Whitespace From Selection"},{command:"landle.removeCommentedTextFromSelection",title:"Remove Commented Text From Selection"},{command:"landle.removeDuplicateLineFromSelection",title:"Remove Duplicate Line From Selection"},{command:"landle.printNowDateTimeOnSelection",title:"Print Now DateTime On Selection"},{command:"landle.cleanUBlockCommentCommand",title:"clean-up Block Comment From Selection"},{command:"landle.blockCommentWordCountJustifyAlign",title:"clean-up Block Comment From Selection"},{command:"landle.cleanUpDocumentCommand",title:"Clean-up Whitespace From Selection"},{command:"landle.cleanUpCodeCommand",title:"Clean-up Code From Selection"}],keybindings:[{command:"landle.removeTrailingWhitespaceFromSelection",key:"ctrl+alt+w"},{command:"landle.removeMulitpleEmptyLinesFromSelection",key:"ctrl+alt+m"},{command:"landle.removeEmptyLinesFromSelection",key:"ctrl+alt+e"},{command:"landle.removeMultipleWhitespaceFromSelection",key:"ctrl+alt+space"},{command:"landle.removeCommentedTextFromSelection",key:"ctrl+alt+/"},{command:"landle.removeDuplicateLineFromSelection",key:"ctrl+alt+d"},{command:"landle.printNowDateTimeOnSelection",key:"ctrl+alt+n"},{command:"landle.blockCommentWordCountJustifyAlign",key:"ctrl+alt+j"},{command:"landle.cleanUBlockCommentCommand",key:"ctrl+alt+b"},{command:"landle.cleanUpDocumentCommand",key:"ctrl+alt+c"},{command:"landle.cleanUpCodeCommand",key:"ctrl+alt+x"}],configuration:{title:"Landle Settings",properties:{"landle.addExtraLineAtEndOnBlockComment":{type:"boolean",default:!0,description:"set true to add extra empty block comment line at the block ends"},"landle.enableAutoLength":{type:"boolean",default:!0,description:"enable auto length adjust on block comment"},"landle.blockCommentCharacterBoundaryBaseLength":{type:"number",default:70,description:"block comment auto length configuration for base length"},"landle.blockCommentCharacterBoundaryTolanceLength":{type:"number",default:10,description:"block comment auto length configurations for tolance length"}}}},scripts:{"vscode:prepublish":"pnpm run package",compile:"pnpm run check-types && pnpm run lint && node esbuild.js",watch:"npm-run-all -p watch:*","watch:esbuild":"node esbuild.js --watch","watch:tsc":"tsc --noEmit --watch --project tsconfig.json",package:"pnpm run check-types && pnpm run lint && node esbuild.js --production","compile-tests":"tsc -p . --outDir out","watch-tests":"tsc -p . -w --outDir out",pretest:"pnpm run compile-tests && pnpm run compile && pnpm run lint","check-types":"tsc --noEmit",lint:"eslint src",test:"vscode-test"},devDependencies:{"@types/vscode":"^1.96.0","@types/mocha":"^10.0.10","@types/node":"20.x","@typescript-eslint/eslint-plugin":"^8.17.0","@typescript-eslint/parser":"^8.17.0",eslint:"^9.16.0",esbuild:"^0.24.0","npm-run-all":"^4.1.5",typescript:"^5.7.2","@vscode/test-cli":"^0.0.10","@vscode/test-electron":"^2.4.1"}};var u=E(require("vscode"));var L=E(require("vscode")),s;(t=>{let o;(c=>(c[c.APPEND=1]="APPEND",c[c.PREPEND=2]="PREPEND",c[c.REPLACE=4]="REPLACE",c[c.CLEAR=8]="CLEAR",c[c.DELETE=16]="DELETE"))(o=t.LineEditType||={});let e;(c=>(c[c.UNSET=0]="UNSET",c[c.LOW=1]="LOW",c[c.MID=2]="MID",c[c.HIGH=3]="HIGH",c[c.VERYHIGH=4]="VERYHIGH"))(e=t.LineEditBlockPriority||={})})(s||={});var k=class{doc;editor;constructor(){this.editor=L.window.activeTextEditor,this.editor&&(this.doc=this.editor.document)}#t=e=>{let t=e.start.line,n=e.end.line;return{startLine:t,endLine:n}};#e=(e,t,n)=>n?{...t.func(this.lineFullRange(e)),type:t.type}:void 0;#n=(e,t)=>{let n=t.func(e);if(n)return t.block||n.block?{range:n.range,string:n?.string,type:n.type?n.type:t.type,block:{priority:n.block?.priority?n.block?.priority:t.block?.priority,lineSkip:n.block?.lineSkip}}:{...n,type:n.type?n.type:t.type}};#i=(e,t)=>{let n=[],i=0,r=!1;for(let a of t){let p=this.#n(e,a);p&&(p.block?p.block.priority>i&&(n=[p],i=p.block.priority,r=!0):r||n.push(p))}return n};#o=(e,t,n,i,r)=>{for(r=r??new Set;n<=e.end.line;){if(r.has(n)){n++;continue}let a=this.#i(this.lineFullRange(n),t);a.length>0&&(a[0].block&&a[0].block.lineSkip&&a[0].block.lineSkip.forEach(p=>r.add(p)),i.push(...a)),n++}return i};getEndofLine=()=>this.editor?.document.eol===L.EndOfLine.CRLF?`\r
`:`
`;getText=e=>this.doc.getText(e);getTextLineFromRange=(e,t=0)=>typeof e=="number"?e+t>=this.doc.lineCount?this.doc.lineAt(e):this.doc.lineAt(e+t):e.start.line+t<0?this.doc.lineAt(e.start.line):this.doc.lineCount>e.start.line+t?this.doc.lineAt(e.start.line+t):this.doc.lineAt(e.start.line);lineFullRangeWithEOL=e=>this.getTextLineFromRange(e).rangeIncludingLineBreak;newRangeZeroBased=(e,t,n)=>new L.Range(new L.Position(e,t),new L.Position(e,n));lineFullRange=e=>typeof e=="number"?this.doc?.lineAt(e).range:this.doc?.lineAt(e.start.line).range;prepareLines=(e,t)=>{let n=e.start.line;return e.isEmpty||e.isSingleLine?this.#i(this.lineFullRange(n),t):this.#o(e,t,n,[])};setCurrentDocument=()=>{this.editor=L.window.activeTextEditor,this.editor&&(this.doc=this.editor.document)}};var C=class{#t;#e;#n;constructor(){this.#e=u.window.activeTextEditor,this.#r()}#i=()=>{this.#e=u.window.activeTextEditor,this.#n.setCurrentDocument(),this.#e};#o=()=>{if(this.#e){let e=this.#e.selections[0];this.#e.selection=new u.Selection(new u.Position(e.start.line,0),new u.Position(e.start.line,0))}};#s=()=>{this.#e&&(this.#e.selection=new u.Selection(new u.Position(0,0),new u.Position(this.#e.document.lineCount-1,0)))};#r=(e=void 0)=>this.#e?e===void 0?(e!==this.#t&&(this.#t=this.#e.document.getText()),!0):e===this.#t:!1;#c=(e,t)=>{e.type&&(e.type&s.LineEditType.DELETE&&t.delete(e.range),e.type&s.LineEditType.CLEAR&&t.delete(this.#n.lineFullRange(e.range)),e.type&s.LineEditType.APPEND&&t.insert(e.range.start,e.string??""),e.type&s.LineEditType.REPLACE&&t.replace(e.range,e.string??""),e.type&s.LineEditType.PREPEND)};setLineHandler=e=>{this.#n=e};prepareEdit=(e,t)=>{t&&this.#s(),this.#i();let n=[];this.#e&&(this.#e.selections.forEach(r=>{n.push(...this.#n.prepareLines(r,e))}),this.editInRange(n))};editInRange=async e=>{try{this.#r(u.window.activeTextEditor?.document.getText())?console.log("Duplicate edit entry"):await this.#e?.edit(n=>{e.forEach(i=>this.#c(i,n))})?(this.#o(),this.#r(),console.log("Edit applied successfully!")):console.log("Failed to apply edit.")}catch(t){console.log("Error applying edit:",t)}}};var d=E(require("vscode"));var P=E(require("vscode")),m=class{constructor(){}static removeTrailingWhiteSpaceString=e=>e.replace(/[ \t]+$/," ");static findTrailingWhiteSpaceString=e=>e.search(/\s+$/s);static findNonWhitespaceIndex=e=>e.search(/\S/g);static findReverseNonWhitespaceIndex=e=>e.search(/\S(?=\s*$)/g);static removeMultipleWhiteSpaceString=e=>e.replace(/\s\s+/g," ");static findMultipleWhiteSpaceString=e=>e.search(/(?<=\S)\s+\s(?=\S)/)!==-1;static isLineCommented=e=>e.search(/^\s*\/\//g)!==-1;static isEmptyBlockComment=e=>e.search(/^\s*\*\s*$/s)!==-1;static isBlockComment=e=>e.search(/^\s*\*+\s+\S+/s)!==-1;static isBlockCommentStartingLine=e=>e.search(/^\s*\/.*\s*$/)!==-1;static isBlockCommentEndingLine=e=>e.search(/^\s*\*\//)!==-1;static isJSdocTag=e=>e.search(/^\s*\*?\s*\@.*/s)!==-1;static cleanBlockComment=e=>e.replace(/(?<=\*).*/,"");static pushMessage=e=>P.window.showInformationMessage(e);static splitStringOn(e,...t){return[0,...t].map((n,i,r)=>e.slice(n,r[i+1]))}static getNowDateTimeStamp={custom:()=>{function e(n){let i={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0},r=Intl.DateTimeFormat().resolvedOptions().locale,p=new Intl.DateTimeFormat(r,i).formatToParts(n),c="",h="",f="",y="",I="",l="";return p.forEach(g=>{switch(g.type){case"year":c=g.value;break;case"month":h=g.value;break;case"day":f=g.value;break;case"hour":y=g.value;break;case"minute":I=g.value;break;case"dayPeriod":l=g.value.toUpperCase();break}}),`${c}-${h}-${f} (${y}:${I} ${l})`}return e(new Date)},locale:()=>new Date().toLocaleString(),iso:()=>new Date().toISOString()}};var A=E(require("vscode"));var S=A.workspace.getConfiguration(T.name),M=S.get("enableAutoLength",!0),H=S.get("addExtraLineAtEndOnBlockComment",!0),R=S.get("blockCommentCharacterBoundaryBaseLength",70),W=S.get("blockCommentCharacterBoundaryTolanceLength",10);var w=class extends k{constructor(){super()}removeDocumentStartingEmptyLine=e=>{let t=e.start.line;if(t===0){let n,i,r=[];for(;t<this.doc.lineCount&&(n=this.getTextLineFromRange(t),n.isEmptyOrWhitespace);)i=n.range,r.push(t),t++;return{range:new d.Range(new d.Position(0,0),new d.Position(t,0)),block:{lineSkip:r,priority:s.LineEditBlockPriority.HIGH}}}};removeTrailingWhiteSpace=e=>{let t=this.getTextLineFromRange(e),n=m.findTrailingWhiteSpaceString(t.text);if(m.isEmptyBlockComment(t.text)&&(n+=1),n>0){let i=t.text.length;return{range:this.newRangeZeroBased(e.start.line,n,i)}}};removeMultipleWhitespace=e=>{let t=this.getText(e);if(m.findMultipleWhiteSpaceString(t)&&!this.getTextLineFromRange(e).isEmptyOrWhitespace){let n=m.removeMultipleWhiteSpaceString(t),i=this.getTextLineFromRange(e).firstNonWhitespaceCharacterIndex,r=m.findReverseNonWhitespaceIndex(t);return{range:this.newRangeZeroBased(e.start.line,i,r+1),string:n.padEnd(r," ").trim()}}};removeMulitpleEmptyLine=e=>{let t=this.getTextLineFromRange(e).isEmptyOrWhitespace,n=this.getTextLineFromRange(e,1).isEmptyOrWhitespace;if(t&&n)return{range:this.lineFullRangeWithEOL(e)}};removeCommentedLine=e=>{let t=this.getText(e);if(m.isLineCommented(t))return{range:this.lineFullRangeWithEOL(e)}};removeEmptyLine=e=>{if(this.getTextLineFromRange(e).isEmptyOrWhitespace)return{range:this.lineFullRangeWithEOL(e)}};removeDuplicateLine=e=>{let t=this.getTextLineFromRange(e),n=this.getTextLineFromRange(e,1);if(t.text===n.text)return{range:this.lineFullRangeWithEOL(e)}};removeEmptyBlockCommentLineOnStart=e=>{let t=this.getTextLineFromRange(e),n=this.getTextLineFromRange(e,-1);if(m.isBlockCommentStartingLine(n.text)&&m.isEmptyBlockComment(t.text)){let r=e.start.line,a,p,c=[];for(;r&&(p=this.getTextLineFromRange(r),m.isEmptyBlockComment(p.text));)a=p.range,c.push(r),r++;if(a)return{range:new d.Range(new d.Position(e.start.line,0),new d.Position(r,0)),block:{priority:s.LineEditBlockPriority.MID,lineSkip:c}}}};removeMultipleEmptyBlockCommentLine=e=>{let t=this.getTextLineFromRange(e),n=this.getTextLineFromRange(e,1),i=m.isEmptyBlockComment(n.text),r=m.isEmptyBlockComment(t.text),a=this.getTextLineFromRange(e,-1),p=m.isBlockCommentStartingLine(a.text);if(r&&i&&!p)return{range:this.lineFullRangeWithEOL(e)}};insertEmptyBlockCommentLineOnEnd=e=>{let t=this.getEndofLine(),n=this.getTextLineFromRange(e),i=this.getTextLineFromRange(e,1);if(m.isBlockCommentEndingLine(i.text)&&m.isBlockComment(n.text))return{range:this.newRangeZeroBased(e.start.line,n.text.length,n.text.length),string:t+m.cleanBlockComment(n.text)+" "}};removeEmptyLinesBetweenBlockCommantAndCode=e=>{let t=this.getTextLineFromRange(e),n=this.getTextLineFromRange(e,-1);if(t.isEmptyOrWhitespace&&m.isBlockCommentEndingLine(n.text)){let i=e.start.line,r,a=[];for(;i<this.doc.lineCount&&(r=this.getTextLineFromRange(i),r.isEmptyOrWhitespace);)a.push(i),i++;return{range:new d.Range(new d.Position(e.start.line,0),new d.Position(i,0)),block:{lineSkip:a,priority:s.LineEditBlockPriority.HIGH}}}};blockCommentWordCountJustifyAlign=e=>{let t=this.getTextLineFromRange(e),n=[];if(m.isBlockComment(t.text)&&!m.isJSdocTag(t.text)){let i=t.text.indexOf("*"),r=t.text.substring(0,i+1);if(t.text.length<R-W||t.text.length>R+W){let a=e.start.line,p,c=[];for(;a<this.doc.lineCount&&(p=this.getTextLineFromRange(a),!m.isJSdocTag(p.text));)if(m.isBlockComment(p.text))n.push(...p.text.trim().replaceAll("*","").split(/\s+/)),c.push(a),a++;else{n.push(this.getEndofLine()+r);break}let h=" ",f=0;for(let y of n)y.length>0&&(h+=y+" ",f+=y.length+1,f>R-r.length&&(h+=this.getEndofLine()+r+" ",f=0));return{range:new d.Range(new d.Position(e.start.line,r.length),new d.Position(a,r.length)),type:s.LineEditType.DELETE+s.LineEditType.APPEND,string:h,block:{lineSkip:c,priority:s.LineEditBlockPriority.HIGH}}}}};setNowDateTimeOnLine=e=>({range:e,string:m.getNowDateTimeStamp.custom()})};var D=(l=>(l[l.removeDocumentStartingEmptyLine=0]="removeDocumentStartingEmptyLine",l[l.removeTrailingWhitespaceFromSelection=1]="removeTrailingWhitespaceFromSelection",l[l.removeMulitpleEmptyLinesFromSelection=2]="removeMulitpleEmptyLinesFromSelection",l[l.removeMultipleWhitespaceFromSelection=3]="removeMultipleWhitespaceFromSelection",l[l.removeEmptyLinesFromSelection=4]="removeEmptyLinesFromSelection",l[l.removeCommentedTextFromSelection=5]="removeCommentedTextFromSelection",l[l.removeDuplicateLineFromSelection=6]="removeDuplicateLineFromSelection",l[l.removeEmptyBlockCommentLineOnStart=7]="removeEmptyBlockCommentLineOnStart",l[l.removeMultipleEmptyBlockCommentLine=8]="removeMultipleEmptyBlockCommentLine",l[l.insertEmptyBlockCommentLineOnEnd=9]="insertEmptyBlockCommentLineOnEnd",l[l.removeEmptyLinesBetweenBlockCommantAndCode=10]="removeEmptyLinesBetweenBlockCommantAndCode",l[l.printNowDateTimeOnSelection=11]="printNowDateTimeOnSelection",l[l.blockCommentWordCountJustifyAlign=12]="blockCommentWordCountJustifyAlign",l))(D||{}),v=class{#t;#e;constructor(){this.#e=new w,this.#t=new C,this.#t.setLineHandler(this.#e)}execute=(e,t)=>{this.#t.prepareEdit(e,t)};removeDocumentStartingEmptyLine=()=>({func:this.#e.removeDocumentStartingEmptyLine,type:s.LineEditType.DELETE});removeTrailingWhitespaceFromSelection=(e,t,n)=>({func:this.#e.removeTrailingWhiteSpace,type:s.LineEditType.DELETE});removeMulitpleEmptyLinesFromSelection=()=>({func:this.#e.removeMulitpleEmptyLine,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.MID}});removeMultipleWhitespaceFromSelection=()=>({func:this.#e.removeMultipleWhitespace,type:s.LineEditType.REPLACE});removeEmptyLinesFromSelection=()=>({func:this.#e.removeEmptyLine,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.LOW}});removeCommentedTextFromSelection=()=>({func:this.#e.removeCommentedLine,type:s.LineEditType.DELETE});removeDuplicateLineFromSelection=()=>({func:this.#e.removeDuplicateLine,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.LOW}});removeEmptyBlockCommentLineOnStart=()=>({func:this.#e.removeEmptyBlockCommentLineOnStart,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.VERYHIGH}});removeMultipleEmptyBlockCommentLine=()=>({func:this.#e.removeMultipleEmptyBlockCommentLine,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.HIGH}});insertEmptyBlockCommentLineOnEnd=()=>H?{func:this.#e.insertEmptyBlockCommentLineOnEnd,type:s.LineEditType.APPEND,block:{priority:s.LineEditBlockPriority.LOW}}:void 0;blockCommentWordCountJustifyAlign=()=>M?{func:this.#e.blockCommentWordCountJustifyAlign,type:s.LineEditType.REPLACE,block:{priority:s.LineEditBlockPriority.HIGH}}:void 0;removeEmptyLinesBetweenBlockCommantAndCode=()=>({func:this.#e.removeEmptyLinesBetweenBlockCommantAndCode,type:s.LineEditType.DELETE,block:{priority:s.LineEditBlockPriority.HIGH}});printNowDateTimeOnSelection=()=>({func:this.#e.setNowDateTimeOnLine,type:s.LineEditType.APPEND})};var B=(n=>(n[n.cleanUBlockCommentCommand=0]="cleanUBlockCommentCommand",n[n.cleanUpCodeCommand=1]="cleanUpCodeCommand",n[n.cleanUpDocumentCommand=2]="cleanUpDocumentCommand",n))(B||{}),F=class extends v{constructor(){super()}cleanUBlockCommentCommand=()=>[this.removeEmptyBlockCommentLineOnStart(),this.removeMultipleEmptyBlockCommentLine(),this.insertEmptyBlockCommentLineOnEnd(),this.removeEmptyLinesBetweenBlockCommantAndCode()].filter(e=>e!==void 0);cleanUpCodeCommand=()=>[this.removeDocumentStartingEmptyLine(),this.removeTrailingWhitespaceFromSelection(),this.removeMulitpleEmptyLinesFromSelection(),this.removeMultipleWhitespaceFromSelection()];cleanUpDocumentCommand=()=>[this.removeDocumentStartingEmptyLine(),this.removeTrailingWhitespaceFromSelection(),this.removeMulitpleEmptyLinesFromSelection(),this.removeMultipleWhitespaceFromSelection(),this.removeEmptyBlockCommentLineOnStart(),this.removeMultipleEmptyBlockCommentLine(),this.insertEmptyBlockCommentLineOnEnd(),this.removeEmptyLinesBetweenBlockCommantAndCode()].filter(e=>e!==void 0)};var N=()=>$(D,o=>{let e=new v;if(o in e)return b.commands.registerTextEditorCommand(T.name+"."+o,(t,n)=>{let i={lineEditFlag:D[o]};e.execute([e[o]()],!1)});console.log("command ",o,"has no implementation")}),U=()=>{let o=new F;return $(B,e=>{if(e in o)return b.commands.registerTextEditorCommand(T.name+"."+e,(t,n)=>{let i={lineEditFlag:B[e]};o.execute(o[e](),!1)});console.log("command ",e,"has no implementation")})},$=(o,e)=>Object.keys(o).filter(t=>!/^[+-]?\d+(\.\d+)?$/.test(t)).map(e),j=(o,e=!0)=>{let t=[];t.push(...N()),t.push(...U()),t.push(b.window.onDidChangeActiveTextEditor(n=>{n&&(N(),U())})),o.subscriptions.push(...t)};function Q(o){j(o)}function X(){}0&&(module.exports={activate,deactivate});
